<template>
    <require from="../dashboard/statusclass"></require>
    <require from="../value-converters/date-format"></require>
    <require from="../value-converters/duration-format"></require>
    <ux-dialog>
        <ux-dialog-body>
            <div class="card card-outline-secondary">
                <div class="card-header">
                    <h3 class="mb-0"><span class="fa fa-list">&nbsp;</span>Test details</h3>
                </div>
                <!--<div if.bind="testStatuses.length > 0" class="card-block">-->
                <table class="table table-hover table-condensed easy-spacer" if.bind="testStatuses">
                    <thead>
                        <tr>
                            <th>Run date</th>
                            <th>Duration</th>
                            <th>Status</th>
                            <td></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr repeat.for="status of testStatuses" model.bind="status" >
                            <td>${ status.startedDateTime | dateFormat }</td>
                            <td>${ status.duration | durationFormat }</td>
                            <td>${ status.statusCode }</td>
                            <td><span class="fa fa-${status.succeeded ? 'check': 'close'} ${status.succeeded ? 'text-success': 'text-error'}"></span></td>
                        </tr>
                    </tbody>
                </table>
                <!--</div>-->
                <div if.bind="testStatuses.length == 0" class="card-block">
                    <div class="easy-dialog-padding">
                        <h4>No test results, yet. But wait, there will be.</h4>
                    </div>
                </div>
            </div>
        </ux-dialog-body>
        <ux-dialog-footer>
            <button class="btn btn-secondary" click.trigger="controller.cancel()">Close</button>
        </ux-dialog-footer>
    </ux-dialog>
</template>